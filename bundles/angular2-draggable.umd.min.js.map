{"version":3,"file":"angular2-draggable.umd.min.js","sources":["~/angular2-draggable/src/models/position.ts","~/angular2-draggable/src/widgets/helper-block.ts","~/angular2-draggable/src/angular-draggable.directive.ts","~/angular2-draggable/src/angular-draggable.module.ts"],"sourcesContent":["export interface IPosition {\n  x: number;\n  y: number;\n}\n\nexport class Position implements IPosition {\n  constructor(public x: number, public y: number) { }\n\n  static fromEvent(e: MouseEvent | TouchEvent, el: any = null) {\n    /**\n     * Fix issue: Resize doesn't work on Windows10 IE11 (and on some windows 7 IE11)\n     * https://github.com/xieziyu/angular2-draggable/issues/164\n     * e instanceof MouseEvent check returns false on IE11\n     */\n    if (this.isMouseEvent(e)) {\n      return new Position(e.clientX, e.clientY);\n    } else {\n      if (el === null || e.changedTouches.length === 1) {\n        return new Position(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n      }\n\n      /**\n       * Fix issue: Multiple phone draggables at the same time\n       * https://github.com/xieziyu/angular2-draggable/issues/128\n       */\n      for (let i = 0; i < e.changedTouches.length; i++) {\n        if (e.changedTouches[i].target === el) {\n          return new Position(e.changedTouches[i].clientX, e.changedTouches[i].clientY);\n        }\n      }\n    }\n  }\n\n  static isMouseEvent(e: MouseEvent | TouchEvent): e is MouseEvent {\n    return Object.prototype.toString.apply(e).indexOf('MouseEvent') === 8;\n  }\n\n  static isIPosition(obj): obj is IPosition {\n    return !!obj && ('x' in obj) && ('y' in obj);\n  }\n\n  static getCurrent(el: Element) {\n    let pos = new Position(0, 0);\n\n    if (window) {\n      const computed = window.getComputedStyle(el);\n      if (computed) {\n        let x = parseInt(computed.getPropertyValue('left'), 10);\n        let y = parseInt(computed.getPropertyValue('top'), 10);\n        pos.x = isNaN(x) ? 0 : x;\n        pos.y = isNaN(y) ? 0 : y;\n      }\n      return pos;\n    } else {\n      console.error('Not Supported!');\n      return null;\n    }\n  }\n\n  static copy(p: IPosition) {\n    return new Position(0, 0).set(p);\n  }\n\n  get value(): IPosition {\n    return { x: this.x, y: this.y };\n  }\n\n  add(p: IPosition) {\n    this.x += p.x;\n    this.y += p.y;\n    return this;\n  }\n\n  subtract(p: IPosition) {\n    this.x -= p.x;\n    this.y -= p.y;\n    return this;\n  }\n\n  multiply(n: number) {\n    this.x *= n;\n    this.y *= n;\n  }\n\n  divide(n: number) {\n    this.x /= n;\n    this.y /= n;\n  }\n\n  reset() {\n    this.x = 0;\n    this.y = 0;\n    return this;\n  }\n\n  set(p: IPosition) {\n    this.x = p.x;\n    this.y = p.y;\n    return this;\n  }\n}\n","import { Renderer2 } from '@angular/core';\n\nexport class HelperBlock {\n  protected _helper: Element;\n  private _added = false;\n\n  constructor(\n    protected parent: Element,\n    protected renderer: Renderer2\n  ) {\n    // generate helper div\n    let helper = renderer.createElement('div');\n    renderer.setStyle(helper, 'position', 'absolute');\n    renderer.setStyle(helper, 'width', '100%');\n    renderer.setStyle(helper, 'height', '100%');\n    renderer.setStyle(helper, 'background-color', 'transparent');\n    renderer.setStyle(helper, 'top', '0');\n    renderer.setStyle(helper, 'left', '0');\n\n    // done\n    this._helper = helper;\n  }\n\n  add() {\n    // append div to parent\n    if (this.parent && !this._added) {\n      this.parent.appendChild(this._helper);\n      this._added = true;\n    }\n  }\n\n  remove() {\n    if (this.parent && this._added) {\n      this.parent.removeChild(this._helper);\n      this._added = false;\n    }\n  }\n\n  dispose() {\n    this._helper = null;\n    this._added = false;\n  }\n\n  get el() {\n    return this._helper;\n  }\n}\n","import {\n  Directive, ElementRef, Renderer2,\n  Input, Output, OnInit, HostListener,\n  EventEmitter, OnChanges, SimpleChanges, OnDestroy, AfterViewInit\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { IPosition, Position } from './models/position';\nimport { HelperBlock } from './widgets/helper-block';\n\n@Directive({\n  selector: '[ngDraggable]',\n  exportAs: 'ngDraggable'\n})\nexport class AngularDraggableDirective implements OnInit, OnDestroy, OnChanges, AfterViewInit {\n  private allowDrag = true;\n  private moving = false;\n  private orignal: Position = null;\n  private oldTrans = new Position(0, 0);\n  private tempTrans = new Position(0, 0);\n  private currTrans = new Position(0, 0);\n  private oldZIndex = '';\n  private _zIndex = '';\n  private needTransform = false;\n\n  private draggingSub: Subscription = null;\n\n  /**\n   * Bugfix: iFrames, and context unrelated elements block all events, and are unusable\n   * https://github.com/xieziyu/angular2-draggable/issues/84\n   */\n  private _helperBlock: HelperBlock = null;\n\n  @Output() started = new EventEmitter<any>();\n  @Output() stopped = new EventEmitter<any>();\n  @Output() edge = new EventEmitter<any>();\n\n  /** Make the handle HTMLElement draggable */\n  @Input() handle: HTMLElement;\n\n  /** Set the bounds HTMLElement */\n  @Input() bounds: HTMLElement;\n\n  /** List of allowed out of bounds edges **/\n  @Input() outOfBounds = {\n    top: false,\n    right: false,\n    bottom: false,\n    left: false\n  };\n\n  /** Round the position to nearest grid */\n  @Input() gridSize = 1;\n\n  /** Set z-index when dragging */\n  @Input() zIndexMoving: string;\n\n  /** Set z-index when not dragging */\n  @Input() set zIndex(setting: string) {\n    this.renderer.setStyle(this.el.nativeElement, 'z-index', setting);\n    this._zIndex = setting;\n  }\n  /** Whether to limit the element stay in the bounds */\n  @Input() inBounds = false;\n\n  /** Whether the element should use it's previous drag position on a new drag event. */\n  @Input() trackPosition = true;\n\n  /** Input css scale transform of element so translations are correct */\n  @Input() scale = 1;\n\n  /** Whether to prevent default event */\n  @Input() preventDefaultEvent = false;\n\n  /** Set initial position by offsets */\n  @Input() position: IPosition = { x: 0, y: 0 };\n\n  /** Lock axis: 'x' or 'y' */\n  @Input() lockAxis: string = null;\n\n  /** Emit position offsets when moving */\n  @Output() movingOffset = new EventEmitter<IPosition>();\n\n  /** Emit position offsets when put back */\n  @Output() endOffset = new EventEmitter<IPosition>();\n\n  @Input()\n  set ngDraggable(setting: any) {\n    if (setting !== undefined && setting !== null && setting !== '') {\n      this.allowDrag = !!setting;\n\n      let element = this.getDragEl();\n\n      if (this.allowDrag) {\n        this.renderer.addClass(element, 'ng-draggable');\n      } else {\n        this.putBack();\n        this.renderer.removeClass(element, 'ng-draggable');\n      }\n    }\n  }\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {\n    this._helperBlock = new HelperBlock(el.nativeElement, renderer);\n  }\n\n  ngOnInit() {\n    if (this.allowDrag) {\n      let element = this.getDragEl();\n      this.renderer.addClass(element, 'ng-draggable');\n    }\n    this.resetPosition();\n  }\n\n  ngOnDestroy() {\n    this.bounds = null;\n    this.handle = null;\n    this.orignal = null;\n    this.oldTrans = null;\n    this.tempTrans = null;\n    this.currTrans = null;\n    this._helperBlock.dispose();\n    this._helperBlock = null;\n\n    if (this.draggingSub) {\n      this.draggingSub.unsubscribe();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['position'] && !changes['position'].isFirstChange()) {\n      let p = changes['position'].currentValue;\n\n      if (!this.moving) {\n        if (Position.isIPosition(p)) {\n          this.oldTrans.set(p);\n        } else {\n          this.oldTrans.reset();\n        }\n\n        this.transform();\n      } else {\n        this.needTransform = true;\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.inBounds) {\n      this.boundsCheck();\n      this.oldTrans.add(this.tempTrans);\n      this.tempTrans.reset();\n    }\n  }\n\n  private getDragEl() {\n    return this.handle ? this.handle : this.el.nativeElement;\n  }\n\n  resetPosition() {\n    if (Position.isIPosition(this.position)) {\n      this.oldTrans.set(this.position);\n    } else {\n      this.oldTrans.reset();\n    }\n    this.tempTrans.reset();\n    this.transform();\n  }\n\n  private moveTo(p: Position) {\n    if (this.orignal) {\n      p.subtract(this.orignal);\n      this.tempTrans.set(p);\n      this.tempTrans.divide(this.scale);\n      this.transform();\n\n      if (this.bounds) {\n        this.edge.emit(this.boundsCheck());\n      }\n\n      this.movingOffset.emit(this.currTrans.value);\n    }\n  }\n\n  private transform() {\n    let translateX = this.tempTrans.x + this.oldTrans.x;\n    let translateY = this.tempTrans.y + this.oldTrans.y;\n\n    if (this.lockAxis === 'x') {\n      translateX = this.oldTrans.x;\n      this.tempTrans.x = 0;\n    } else if (this.lockAxis === 'y') {\n      translateY = this.oldTrans.y;\n      this.tempTrans.y = 0;\n    }\n\n    // Snap to grid: by grid size\n    if (this.gridSize > 1) {\n      translateX = Math.round(translateX / this.gridSize) * this.gridSize;\n      translateY = Math.round(translateY / this.gridSize) * this.gridSize;\n    }\n\n    let value = `translate(${Math.round(translateX)}px, ${Math.round(translateY)}px)`;\n\n    this.renderer.setStyle(this.el.nativeElement, 'transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-webkit-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-ms-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-moz-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-o-transform', value);\n\n    // save current position\n    this.currTrans.x = translateX;\n    this.currTrans.y = translateY;\n  }\n\n  private pickUp() {\n    // get old z-index:\n    this.oldZIndex = this.el.nativeElement.style.zIndex ? this.el.nativeElement.style.zIndex : '';\n\n    if (window) {\n      this.oldZIndex = window.getComputedStyle(this.el.nativeElement, null).getPropertyValue('z-index');\n    }\n\n    if (this.zIndexMoving) {\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this.zIndexMoving);\n    }\n\n    if (!this.moving) {\n      this.started.emit(this.el.nativeElement);\n      this.moving = true;\n\n      const element = this.getDragEl();\n      this.renderer.addClass(element, 'ng-dragging');\n\n      /**\n       * Fix performance issue:\n       * https://github.com/xieziyu/angular2-draggable/issues/112\n       */\n      this.subscribeEvents();\n    }\n  }\n\n  private subscribeEvents() {\n    this.draggingSub = fromEvent(document, 'mousemove', { passive: false }).subscribe(event => this.onMouseMove(event as MouseEvent));\n    this.draggingSub.add(fromEvent(document, 'touchmove', { passive: false }).subscribe(event => this.onMouseMove(event as TouchEvent)));\n    this.draggingSub.add(fromEvent(document, 'mouseup', { passive: false }).subscribe(() => this.putBack()));\n    // checking if browser is IE or Edge - https://github.com/xieziyu/angular2-draggable/issues/153\n    let isIEOrEdge = /msie\\s|trident\\//i.test(window.navigator.userAgent);\n    if (!isIEOrEdge) {\n      this.draggingSub.add(fromEvent(document, 'mouseleave', { passive: false }).subscribe(() => this.putBack()));\n    }\n    this.draggingSub.add(fromEvent(document, 'touchend', { passive: false }).subscribe(() => this.putBack()));\n    this.draggingSub.add(fromEvent(document, 'touchcancel', { passive: false }).subscribe(() => this.putBack()));\n  }\n\n  private unsubscribeEvents() {\n    this.draggingSub.unsubscribe();\n    this.draggingSub = null;\n  }\n\n  boundsCheck() {\n    if (this.bounds) {\n      let boundary = this.bounds.getBoundingClientRect();\n      let elem = this.el.nativeElement.getBoundingClientRect();\n      let result = {\n        'top': this.outOfBounds.top ? true : boundary.top < elem.top,\n        'right': this.outOfBounds.right ? true : boundary.right > elem.right,\n        'bottom': this.outOfBounds.bottom ? true : boundary.bottom > elem.bottom,\n        'left': this.outOfBounds.left ? true : boundary.left < elem.left\n      };\n\n      if (this.inBounds) {\n        if (!result.top) {\n          this.tempTrans.y -= (elem.top - boundary.top) / this.scale;\n        }\n\n        if (!result.bottom) {\n          this.tempTrans.y -= (elem.bottom - boundary.bottom) / this.scale;\n        }\n\n        if (!result.right) {\n          this.tempTrans.x -= (elem.right - boundary.right) / this.scale;\n        }\n\n        if (!result.left) {\n          this.tempTrans.x -= (elem.left - boundary.left) / this.scale;\n        }\n\n        this.transform();\n      }\n\n      return result;\n    }\n  }\n\n  /** Get current offset */\n  getCurrentOffset() {\n    return this.currTrans.value;\n  }\n\n  private putBack() {\n    if (this._zIndex) {\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this._zIndex);\n    } else if (this.zIndexMoving) {\n      if (this.oldZIndex) {\n        this.renderer.setStyle(this.el.nativeElement, 'z-index', this.oldZIndex);\n      } else {\n        this.el.nativeElement.style.removeProperty('z-index');\n      }\n    }\n\n    if (this.moving) {\n      this.stopped.emit(this.el.nativeElement);\n\n      // Remove the helper div:\n      this._helperBlock.remove();\n\n      if (this.needTransform) {\n        if (Position.isIPosition(this.position)) {\n          this.oldTrans.set(this.position);\n        } else {\n          this.oldTrans.reset();\n        }\n\n        this.transform();\n        this.needTransform = false;\n      }\n\n      if (this.bounds) {\n        this.edge.emit(this.boundsCheck());\n      }\n\n      this.moving = false;\n      this.endOffset.emit(this.currTrans.value);\n\n      if (this.trackPosition) {\n        this.oldTrans.add(this.tempTrans);\n      }\n\n      this.tempTrans.reset();\n\n      if (!this.trackPosition) {\n        this.transform();\n      }\n\n      const element = this.getDragEl();\n      this.renderer.removeClass(element, 'ng-dragging');\n\n      /**\n       * Fix performance issue:\n       * https://github.com/xieziyu/angular2-draggable/issues/112\n       */\n      this.unsubscribeEvents();\n    }\n  }\n\n  checkHandleTarget(target: EventTarget, element: Element) {\n    // Checks if the target is the element clicked, then checks each child element of element as well\n    // Ignores button clicks\n\n    // Ignore elements of type button\n    if (element.tagName === 'BUTTON') {\n      return false;\n    }\n\n    // If the target was found, return true (handle was found)\n    if (element === target) {\n      return true;\n    }\n\n    // Recursively iterate this elements children\n    for (let child in element.children) {\n      if (element.children.hasOwnProperty(child)) {\n        if (this.checkHandleTarget(target, element.children[child])) {\n          return true;\n        }\n      }\n    }\n\n    // Handle was not found in this lineage\n    // Note: return false is ignore unless it is the parent element\n    return false;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  @HostListener('touchstart', ['$event'])\n  onMouseDown(event: MouseEvent | TouchEvent) {\n    // 1. skip right click;\n    if (event instanceof MouseEvent && event.button === 2) {\n      return;\n    }\n    // 2. if handle is set, the element can only be moved by handle\n    let target = event.target || event.srcElement;\n    if (this.handle !== undefined && !this.checkHandleTarget(target, this.handle)) {\n      return;\n    }\n\n    // 3. if allow drag is set to false, ignore the mousedown\n    if (this.allowDrag === false) {\n      return;\n    }\n\n    if (this.preventDefaultEvent) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n\n    this.orignal = Position.fromEvent(event, this.getDragEl());\n    this.pickUp();\n  }\n\n  onMouseMove(event: MouseEvent | TouchEvent) {\n    if (this.moving && this.allowDrag) {\n      if (this.preventDefaultEvent) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n\n      // Add a transparent helper div:\n      this._helperBlock.add();\n      this.moveTo(Position.fromEvent(event, this.getDragEl()));\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { AngularDraggableDirective } from './angular-draggable.directive';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [\n    AngularDraggableDirective,\n  ],\n  exports: [\n    AngularDraggableDirective,\n  ]\n})\nexport class AngularDraggableModule { }\n"],"names":["Position","fromEvent","e","el","this","isMouseEvent","clientX","clientY","changedTouches","length","i","target","Object","prototype","toString","apply","indexOf","isIPosition","obj","getCurrent","pos","window","computed","getComputedStyle","x","parseInt","getPropertyValue","y","isNaN","console","error","copy","p","set","defineProperty","get","add","subtract","multiply","n","divide","reset","HelperBlock","parent","_added","appendChild","_helper","remove","removeChild","dispose","renderer","helper","createElement","setStyle","AngularDraggableDirective","setting","nativeElement","_zIndex","undefined","allowDrag","element","getDragEl","addClass","putBack","removeClass","ngOnInit","resetPosition","ngOnDestroy","bounds","handle","orignal","oldTrans","tempTrans","currTrans","_helperBlock","draggingSub","unsubscribe","ngOnChanges","changes","isFirstChange","currentValue","moving","needTransform","transform","ngAfterViewInit","inBounds","boundsCheck","position","moveTo","scale","edge","emit","movingOffset","value","translateX","translateY","lockAxis","gridSize","Math","round","pickUp","oldZIndex","style","zIndex","zIndexMoving","started","subscribeEvents","_this","document","passive","subscribe","event","onMouseMove","test","navigator","userAgent","unsubscribeEvents","boundary","getBoundingClientRect","elem","result","top","outOfBounds","right","bottom","left","getCurrentOffset","removeProperty","stopped","endOffset","trackPosition","checkHandleTarget","tagName","child","children","hasOwnProperty","onMouseDown","MouseEvent","button","srcElement","preventDefaultEvent","stopPropagation","preventDefault","EventEmitter","decorators","type","Directive","args","selector","exportAs","ctorParameters","ElementRef","Renderer2","propDecorators","Output","Input","ngDraggable","HostListener","AngularDraggableModule","NgModule","imports","declarations","exports"],"mappings":"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"}
