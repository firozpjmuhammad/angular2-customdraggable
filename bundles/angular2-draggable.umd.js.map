{"version":3,"file":"angular2-draggable.umd.js","sources":["~/angular2-draggable/src/angular-draggable.module.ts","~/angular2-draggable/src/angular-draggable.directive.ts","~/angular2-draggable/src/widgets/helper-block.ts","~/angular2-draggable/src/models/position.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { AngularDraggableDirective } from './angular-draggable.directive';\nexport class AngularDraggableModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n  ],\n  declarations: [\n    AngularDraggableDirective,\n  ],\n  exports: [\n    AngularDraggableDirective,\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AngularDraggableModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularDraggableModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularDraggableModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  Directive, ElementRef, Renderer2,\n  Input, Output, OnInit, HostListener,\n  EventEmitter, OnChanges, SimpleChanges, OnDestroy, AfterViewInit\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { IPosition, Position } from './models/position';\nimport { HelperBlock } from './widgets/helper-block';\nexport class AngularDraggableDirective implements OnInit, OnDestroy, OnChanges, AfterViewInit {\nprivate allowDrag = true;\nprivate moving = false;\nprivate orignal: Position = null;\nprivate oldTrans = new Position(0, 0);\nprivate tempTrans = new Position(0, 0);\nprivate currTrans = new Position(0, 0);\nprivate oldZIndex = '';\nprivate _zIndex = '';\nprivate needTransform = false;\nprivate draggingSub: Subscription = null;\n/**\n * Bugfix: iFrames, and context unrelated elements block all events, and are unusable\n * https://github.com/xieziyu/angular2-draggable/issues/84\n */\nprivate _helperBlock: HelperBlock = null;\n\n   started = new EventEmitter<any>();\n   stopped = new EventEmitter<any>();\n   edge = new EventEmitter<any>();\n/**\n * Make the handle HTMLElement draggable\n */\nhandle: HTMLElement;\n/**\n * Set the bounds HTMLElement\n */\nbounds: HTMLElement;\n/**\n * List of allowed out of bounds edges *\n */\noutOfBounds = {\n    top: false,\n    right: false,\n    bottom: false,\n    left: false\n  };\n/**\n * Round the position to nearest grid\n */\ngridSize = 1;\n/**\n * Set z-index when dragging\n */\nzIndexMoving: string;\n/**\n * Set z-index when not dragging\n * @param {?} setting\n * @return {?}\n */\nset zIndex(setting: string) {\n    this.renderer.setStyle(this.el.nativeElement, 'z-index', setting);\n    this._zIndex = setting;\n  }\n/**\n * Whether to limit the element stay in the bounds\n */\ninBounds = false;\n/**\n * Whether the element should use it's previous drag position on a new drag event.\n */\ntrackPosition = true;\n/**\n * Input css scale transform of element so translations are correct\n */\nscale = 1;\n/**\n * Whether to prevent default event\n */\npreventDefaultEvent = false;\n/**\n * Set initial position by offsets\n */\nposition: IPosition = { x: 0, y: 0 };\n/**\n * Lock axis: 'x' or 'y'\n */\nlockAxis: string = null;\n/**\n * Emit position offsets when moving\n */\nmovingOffset = new EventEmitter<IPosition>();\n/**\n * Emit position offsets when put back\n */\nendOffset = new EventEmitter<IPosition>();\n/**\n * @param {?} setting\n * @return {?}\n */\nset ngDraggable(setting: any) {\n    if (setting !== undefined && setting !== null && setting !== '') {\n      this.allowDrag = !!setting;\n\n      let /** @type {?} */ element = this.getDragEl();\n\n      if (this.allowDrag) {\n        this.renderer.addClass(element, 'ng-draggable');\n      } else {\n        this.putBack();\n        this.renderer.removeClass(element, 'ng-draggable');\n      }\n    }\n  }\n/**\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(private el: ElementRef,\nprivate renderer: Renderer2) {\n    this._helperBlock = new HelperBlock(el.nativeElement, renderer);\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    if (this.allowDrag) {\n      let /** @type {?} */ element = this.getDragEl();\n      this.renderer.addClass(element, 'ng-draggable');\n    }\n    this.resetPosition();\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.bounds = null;\n    this.handle = null;\n    this.orignal = null;\n    this.oldTrans = null;\n    this.tempTrans = null;\n    this.currTrans = null;\n    this._helperBlock.dispose();\n    this._helperBlock = null;\n\n    if (this.draggingSub) {\n      this.draggingSub.unsubscribe();\n    }\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    if (changes['position'] && !changes['position'].isFirstChange()) {\n      let /** @type {?} */ p = changes['position'].currentValue;\n\n      if (!this.moving) {\n        if (Position.isIPosition(p)) {\n          this.oldTrans.set(p);\n        } else {\n          this.oldTrans.reset();\n        }\n\n        this.transform();\n      } else {\n        this.needTransform = true;\n      }\n    }\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    if (this.inBounds) {\n      this.boundsCheck();\n      this.oldTrans.add(this.tempTrans);\n      this.tempTrans.reset();\n    }\n  }\n/**\n * @return {?}\n */\nprivate getDragEl() {\n    return this.handle ? this.handle : this.el.nativeElement;\n  }\n/**\n * @return {?}\n */\nresetPosition() {\n    if (Position.isIPosition(this.position)) {\n      this.oldTrans.set(this.position);\n    } else {\n      this.oldTrans.reset();\n    }\n    this.tempTrans.reset();\n    this.transform();\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nprivate moveTo(p: Position) {\n    if (this.orignal) {\n      p.subtract(this.orignal);\n      this.tempTrans.set(p);\n      this.tempTrans.divide(this.scale);\n      this.transform();\n\n      if (this.bounds) {\n        this.edge.emit(this.boundsCheck());\n      }\n\n      this.movingOffset.emit(this.currTrans.value);\n    }\n  }\n/**\n * @return {?}\n */\nprivate transform() {\n    let /** @type {?} */ translateX = this.tempTrans.x + this.oldTrans.x;\n    let /** @type {?} */ translateY = this.tempTrans.y + this.oldTrans.y;\n\n    if (this.lockAxis === 'x') {\n      translateX = this.oldTrans.x;\n      this.tempTrans.x = 0;\n    } else if (this.lockAxis === 'y') {\n      translateY = this.oldTrans.y;\n      this.tempTrans.y = 0;\n    }\n\n    // Snap to grid: by grid size\n    if (this.gridSize > 1) {\n      translateX = Math.round(translateX / this.gridSize) * this.gridSize;\n      translateY = Math.round(translateY / this.gridSize) * this.gridSize;\n    }\n\n    let /** @type {?} */ value = `translate(${Math.round(translateX)}px, ${Math.round(translateY)}px)`;\n\n    this.renderer.setStyle(this.el.nativeElement, 'transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-webkit-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-ms-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-moz-transform', value);\n    this.renderer.setStyle(this.el.nativeElement, '-o-transform', value);\n\n    // save current position\n    this.currTrans.x = translateX;\n    this.currTrans.y = translateY;\n  }\n/**\n * @return {?}\n */\nprivate pickUp() {\n    // get old z-index:\n    this.oldZIndex = this.el.nativeElement.style.zIndex ? this.el.nativeElement.style.zIndex : '';\n\n    if (window) {\n      this.oldZIndex = window.getComputedStyle(this.el.nativeElement, null).getPropertyValue('z-index');\n    }\n\n    if (this.zIndexMoving) {\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this.zIndexMoving);\n    }\n\n    if (!this.moving) {\n      this.started.emit(this.el.nativeElement);\n      this.moving = true;\n\n      const /** @type {?} */ element = this.getDragEl();\n      this.renderer.addClass(element, 'ng-dragging');\n\n      /**\n       * Fix performance issue:\n       * https://github.com/xieziyu/angular2-draggable/issues/112\n       */\n      this.subscribeEvents();\n    }\n  }\n/**\n * @return {?}\n */\nprivate subscribeEvents() {\n    this.draggingSub = fromEvent(document, 'mousemove', { passive: false }).subscribe(event => this.onMouseMove( /** @type {?} */((event as MouseEvent))));\n    this.draggingSub.add(fromEvent(document, 'touchmove', { passive: false }).subscribe(event => this.onMouseMove( /** @type {?} */((event as TouchEvent)))));\n    this.draggingSub.add(fromEvent(document, 'mouseup', { passive: false }).subscribe(() => this.putBack()));\n    // checking if browser is IE or Edge - https://github.com/xieziyu/angular2-draggable/issues/153\n    let /** @type {?} */ isIEOrEdge = /msie\\s|trident\\//i.test(window.navigator.userAgent);\n    if (!isIEOrEdge) {\n      this.draggingSub.add(fromEvent(document, 'mouseleave', { passive: false }).subscribe(() => this.putBack()));\n    }\n    this.draggingSub.add(fromEvent(document, 'touchend', { passive: false }).subscribe(() => this.putBack()));\n    this.draggingSub.add(fromEvent(document, 'touchcancel', { passive: false }).subscribe(() => this.putBack()));\n  }\n/**\n * @return {?}\n */\nprivate unsubscribeEvents() {\n    this.draggingSub.unsubscribe();\n    this.draggingSub = null;\n  }\n/**\n * @return {?}\n */\nboundsCheck() {\n    if (this.bounds) {\n      let /** @type {?} */ boundary = this.bounds.getBoundingClientRect();\n      let /** @type {?} */ elem = this.el.nativeElement.getBoundingClientRect();\n      let /** @type {?} */ result = {\n        'top': this.outOfBounds.top ? true : boundary.top < elem.top,\n        'right': this.outOfBounds.right ? true : boundary.right > elem.right,\n        'bottom': this.outOfBounds.bottom ? true : boundary.bottom > elem.bottom,\n        'left': this.outOfBounds.left ? true : boundary.left < elem.left\n      };\n\n      if (this.inBounds) {\n        if (!result.top) {\n          this.tempTrans.y -= (elem.top - boundary.top) / this.scale;\n        }\n\n        if (!result.bottom) {\n          this.tempTrans.y -= (elem.bottom - boundary.bottom) / this.scale;\n        }\n\n        if (!result.right) {\n          this.tempTrans.x -= (elem.right - boundary.right) / this.scale;\n        }\n\n        if (!result.left) {\n          this.tempTrans.x -= (elem.left - boundary.left) / this.scale;\n        }\n\n        this.transform();\n      }\n\n      return result;\n    }\n  }\n/**\n * Get current offset\n * @return {?}\n */\ngetCurrentOffset() {\n    return this.currTrans.value;\n  }\n/**\n * @return {?}\n */\nprivate putBack() {\n    if (this._zIndex) {\n      this.renderer.setStyle(this.el.nativeElement, 'z-index', this._zIndex);\n    } else if (this.zIndexMoving) {\n      if (this.oldZIndex) {\n        this.renderer.setStyle(this.el.nativeElement, 'z-index', this.oldZIndex);\n      } else {\n        this.el.nativeElement.style.removeProperty('z-index');\n      }\n    }\n\n    if (this.moving) {\n      this.stopped.emit(this.el.nativeElement);\n\n      // Remove the helper div:\n      this._helperBlock.remove();\n\n      if (this.needTransform) {\n        if (Position.isIPosition(this.position)) {\n          this.oldTrans.set(this.position);\n        } else {\n          this.oldTrans.reset();\n        }\n\n        this.transform();\n        this.needTransform = false;\n      }\n\n      if (this.bounds) {\n        this.edge.emit(this.boundsCheck());\n      }\n\n      this.moving = false;\n      this.endOffset.emit(this.currTrans.value);\n\n      if (this.trackPosition) {\n        this.oldTrans.add(this.tempTrans);\n      }\n\n      this.tempTrans.reset();\n\n      if (!this.trackPosition) {\n        this.transform();\n      }\n\n      const /** @type {?} */ element = this.getDragEl();\n      this.renderer.removeClass(element, 'ng-dragging');\n\n      /**\n       * Fix performance issue:\n       * https://github.com/xieziyu/angular2-draggable/issues/112\n       */\n      this.unsubscribeEvents();\n    }\n  }\n/**\n * @param {?} target\n * @param {?} element\n * @return {?}\n */\ncheckHandleTarget(target: EventTarget, element: Element) {\n    // Checks if the target is the element clicked, then checks each child element of element as well\n    // Ignores button clicks\n\n    // Ignore elements of type button\n    if (element.tagName === 'BUTTON') {\n      return false;\n    }\n\n    // If the target was found, return true (handle was found)\n    if (element === target) {\n      return true;\n    }\n\n    // Recursively iterate this elements children\n    for (let /** @type {?} */ child in element.children) {\n      if (element.children.hasOwnProperty(child)) {\n        if (this.checkHandleTarget(target, element.children[child])) {\n          return true;\n        }\n      }\n    }\n\n    // Handle was not found in this lineage\n    // Note: return false is ignore unless it is the parent element\n    return false;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonMouseDown(event: MouseEvent | TouchEvent) {\n    // 1. skip right click;\n    if (event instanceof MouseEvent && event.button === 2) {\n      return;\n    }\n    // 2. if handle is set, the element can only be moved by handle\n    let /** @type {?} */ target = event.target || event.srcElement;\n    if (this.handle !== undefined && !this.checkHandleTarget(target, this.handle)) {\n      return;\n    }\n\n    // 3. if allow drag is set to false, ignore the mousedown\n    if (this.allowDrag === false) {\n      return;\n    }\n\n    if (this.preventDefaultEvent) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n\n    this.orignal = Position.fromEvent(event, this.getDragEl());\n    this.pickUp();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonMouseMove(event: MouseEvent | TouchEvent) {\n    if (this.moving && this.allowDrag) {\n      if (this.preventDefaultEvent) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n\n      // Add a transparent helper div:\n      this._helperBlock.add();\n      this.moveTo(Position.fromEvent(event, this.getDragEl()));\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ngDraggable]',\n  exportAs: 'ngDraggable'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'started': [{ type: Output },],\n'stopped': [{ type: Output },],\n'edge': [{ type: Output },],\n'handle': [{ type: Input },],\n'bounds': [{ type: Input },],\n'outOfBounds': [{ type: Input },],\n'gridSize': [{ type: Input },],\n'zIndexMoving': [{ type: Input },],\n'zIndex': [{ type: Input },],\n'inBounds': [{ type: Input },],\n'trackPosition': [{ type: Input },],\n'scale': [{ type: Input },],\n'preventDefaultEvent': [{ type: Input },],\n'position': [{ type: Input },],\n'lockAxis': [{ type: Input },],\n'movingOffset': [{ type: Output },],\n'endOffset': [{ type: Output },],\n'ngDraggable': [{ type: Input },],\n'onMouseDown': [{ type: HostListener, args: ['mousedown', ['$event'], ] },{ type: HostListener, args: ['touchstart', ['$event'], ] },],\n};\n}\n\nfunction AngularDraggableDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularDraggableDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularDraggableDirective.ctorParameters;\n/** @type {?} */\nAngularDraggableDirective.propDecorators;\n/** @type {?} */\nAngularDraggableDirective.prototype.allowDrag;\n/** @type {?} */\nAngularDraggableDirective.prototype.moving;\n/** @type {?} */\nAngularDraggableDirective.prototype.orignal;\n/** @type {?} */\nAngularDraggableDirective.prototype.oldTrans;\n/** @type {?} */\nAngularDraggableDirective.prototype.tempTrans;\n/** @type {?} */\nAngularDraggableDirective.prototype.currTrans;\n/** @type {?} */\nAngularDraggableDirective.prototype.oldZIndex;\n/** @type {?} */\nAngularDraggableDirective.prototype._zIndex;\n/** @type {?} */\nAngularDraggableDirective.prototype.needTransform;\n/** @type {?} */\nAngularDraggableDirective.prototype.draggingSub;\n/**\n * Bugfix: iFrames, and context unrelated elements block all events, and are unusable\n * https://github.com/xieziyu/angular2-draggable/issues/84\n * @type {?}\n */\nAngularDraggableDirective.prototype._helperBlock;\n/** @type {?} */\nAngularDraggableDirective.prototype.started;\n/** @type {?} */\nAngularDraggableDirective.prototype.stopped;\n/** @type {?} */\nAngularDraggableDirective.prototype.edge;\n/**\n * Make the handle HTMLElement draggable\n * @type {?}\n */\nAngularDraggableDirective.prototype.handle;\n/**\n * Set the bounds HTMLElement\n * @type {?}\n */\nAngularDraggableDirective.prototype.bounds;\n/**\n * List of allowed out of bounds edges *\n * @type {?}\n */\nAngularDraggableDirective.prototype.outOfBounds;\n/**\n * Round the position to nearest grid\n * @type {?}\n */\nAngularDraggableDirective.prototype.gridSize;\n/**\n * Set z-index when dragging\n * @type {?}\n */\nAngularDraggableDirective.prototype.zIndexMoving;\n/**\n * Whether to limit the element stay in the bounds\n * @type {?}\n */\nAngularDraggableDirective.prototype.inBounds;\n/**\n * Whether the element should use it's previous drag position on a new drag event.\n * @type {?}\n */\nAngularDraggableDirective.prototype.trackPosition;\n/**\n * Input css scale transform of element so translations are correct\n * @type {?}\n */\nAngularDraggableDirective.prototype.scale;\n/**\n * Whether to prevent default event\n * @type {?}\n */\nAngularDraggableDirective.prototype.preventDefaultEvent;\n/**\n * Set initial position by offsets\n * @type {?}\n */\nAngularDraggableDirective.prototype.position;\n/**\n * Lock axis: 'x' or 'y'\n * @type {?}\n */\nAngularDraggableDirective.prototype.lockAxis;\n/**\n * Emit position offsets when moving\n * @type {?}\n */\nAngularDraggableDirective.prototype.movingOffset;\n/**\n * Emit position offsets when put back\n * @type {?}\n */\nAngularDraggableDirective.prototype.endOffset;\n/** @type {?} */\nAngularDraggableDirective.prototype.el;\n/** @type {?} */\nAngularDraggableDirective.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Renderer2 } from '@angular/core';\nexport class HelperBlock {\n  protected _helper: Element;\nprivate _added = false;\n/**\n * @param {?} parent\n * @param {?} renderer\n */\nconstructor(\n    protected parent: Element,\n    protected renderer: Renderer2\n  ) {\n    // generate helper div\n    let helper = renderer.createElement('div');\n    renderer.setStyle(helper, 'position', 'absolute');\n    renderer.setStyle(helper, 'width', '100%');\n    renderer.setStyle(helper, 'height', '100%');\n    renderer.setStyle(helper, 'background-color', 'transparent');\n    renderer.setStyle(helper, 'top', '0');\n    renderer.setStyle(helper, 'left', '0');\n\n    // done\n    this._helper = helper;\n  }\n/**\n * @return {?}\n */\nadd() {\n    // append div to parent\n    if (this.parent && !this._added) {\n      this.parent.appendChild(this._helper);\n      this._added = true;\n    }\n  }\n/**\n * @return {?}\n */\nremove() {\n    if (this.parent && this._added) {\n      this.parent.removeChild(this._helper);\n      this._added = false;\n    }\n  }\n/**\n * @return {?}\n */\ndispose() {\n    this._helper = null;\n    this._added = false;\n  }\n/**\n * @return {?}\n */\nget el() {\n    return this._helper;\n  }\n}\n\nfunction HelperBlock_tsickle_Closure_declarations() {\n/** @type {?} */\nHelperBlock.prototype._helper;\n/** @type {?} */\nHelperBlock.prototype._added;\n/** @type {?} */\nHelperBlock.prototype.parent;\n/** @type {?} */\nHelperBlock.prototype.renderer;\n}\n\n","export interface IPosition {\n  x: number;\n  y: number;\n}\nexport class Position implements IPosition {\n/**\n * @param {?} x\n * @param {?} y\n */\nconstructor(public x: number,\npublic y: number) { }\n/**\n * @param {?} e\n * @param {?=} el\n * @return {?}\n */\nstatic fromEvent(e: MouseEvent | TouchEvent, el: any = null) {\n    /**\n     * Fix issue: Resize doesn't work on Windows10 IE11 (and on some windows 7 IE11)\n     * https://github.com/xieziyu/angular2-draggable/issues/164\n     * e instanceof MouseEvent check returns false on IE11\n     */\n    if (this.isMouseEvent(e)) {\n      return new Position(e.clientX, e.clientY);\n    } else {\n      if (el === null || e.changedTouches.length === 1) {\n        return new Position(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n      }\n\n      /**\n       * Fix issue: Multiple phone draggables at the same time\n       * https://github.com/xieziyu/angular2-draggable/issues/128\n       */\n      for (let /** @type {?} */ i = 0; i < e.changedTouches.length; i++) {\n        if (e.changedTouches[i].target === el) {\n          return new Position(e.changedTouches[i].clientX, e.changedTouches[i].clientY);\n        }\n      }\n    }\n  }\n/**\n * @param {?} e\n * @return {?}\n */\nstatic isMouseEvent(e: MouseEvent | TouchEvent): e is MouseEvent {\n    return Object.prototype.toString.apply(e).indexOf('MouseEvent') === 8;\n  }\n/**\n * @param {?} obj\n * @return {?}\n */\nstatic isIPosition(obj): obj is IPosition {\n    return !!obj && ('x' in obj) && ('y' in obj);\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nstatic getCurrent(el: Element) {\n    let /** @type {?} */ pos = new Position(0, 0);\n\n    if (window) {\n      const /** @type {?} */ computed = window.getComputedStyle(el);\n      if (computed) {\n        let /** @type {?} */ x = parseInt(computed.getPropertyValue('left'), 10);\n        let /** @type {?} */ y = parseInt(computed.getPropertyValue('top'), 10);\n        pos.x = isNaN(x) ? 0 : x;\n        pos.y = isNaN(y) ? 0 : y;\n      }\n      return pos;\n    } else {\n      console.error('Not Supported!');\n      return null;\n    }\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nstatic copy(p: IPosition) {\n    return new Position(0, 0).set(p);\n  }\n/**\n * @return {?}\n */\nget value(): IPosition {\n    return { x: this.x, y: this.y };\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nadd(p: IPosition) {\n    this.x += p.x;\n    this.y += p.y;\n    return this;\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nsubtract(p: IPosition) {\n    this.x -= p.x;\n    this.y -= p.y;\n    return this;\n  }\n/**\n * @param {?} n\n * @return {?}\n */\nmultiply(n: number) {\n    this.x *= n;\n    this.y *= n;\n  }\n/**\n * @param {?} n\n * @return {?}\n */\ndivide(n: number) {\n    this.x /= n;\n    this.y /= n;\n  }\n/**\n * @return {?}\n */\nreset() {\n    this.x = 0;\n    this.y = 0;\n    return this;\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nset(p: IPosition) {\n    this.x = p.x;\n    this.y = p.y;\n    return this;\n  }\n}\n\nfunction Position_tsickle_Closure_declarations() {\n/** @type {?} */\nPosition.prototype.x;\n/** @type {?} */\nPosition.prototype.y;\n}\n\n"],"names":["NgModule","HostListener","Input","Output","Renderer2","ElementRef","Directive","fromEvent","EventEmitter"],"mappings":"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"}
